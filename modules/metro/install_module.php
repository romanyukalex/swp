<?php
 /****************************************************************
  * Snippet Name : module (install part)						 * 
  * Scripted By  : RomanyukAlex		           					 * 
  * Website      : http://popwebstudio.ru	   					 * 
  * Email        : admin@popwebstudio.ru     					 * 
  * License      : GPL (General Public License)					 * 
  * Purpose 	 : installation of module						 *
  * Access		 : just insert_module("modulename")			 	 *
  ***************************************************************/
$log->LogInfo(basename (__FILE__)." | Got ".(__FILE__));    
if ($moduleinstalled['$modulename']!=='y' and $nitka=="1"){ #Требуется инсталляция
	
	# $module_id - id модуля
	
	/*
	
	Инсталляционные действия
	
	
	$put_page=mysql_query("INSERT INTO `$tableprefix-pages`(`page`, `pagetitle`, `folder`, `filename`, `ext`, `pagebody`, `module_page`, `page_menu`, `exceptionsscript`, `canbechanged`) VALUES
	('change_password_page', 'Изменение пароля', NULL, NULL, NULL, NULL, 'change_password', NULL, 0, 1)");
	
	*/
	

	
	mysql_query("CREATE TABLE IF NOT EXISTS `$moduletableprefix-metro-lines` (
	  `id` int(6) NOT NULL,
	  `line_name_ru` varchar(255) NOT NULL,
	  `line_name_en` varchar(255) DEFAULT NULL COMMENT 'Line name (en)',
	  `color` varchar(6) NOT NULL,
	  `city_id` int(11) NOT NULL,
	  PRIMARY KEY (`id`),
		UNIQUE KEY `id` (`id`)
	) ENGINE=MyISAM DEFAULT CHARSET=utf8;");
	
	
	mysql_query("INSERT INTO `$moduletableprefix-metro-lines` (`id`, `line_name_ru`, `line_name_en`, `color`, `city_id`) VALUES
	(1, 'Сокольническая линия', 'Sokolnicheskaya', 'cf2028', 17849),
	(2, 'Замоскворецкая линия', 'Zamoskvoretskaya', '13703a', 17849),
	(3, 'Арбатско-Покровская линия', 'Arbatsko-Pokrovskaya', '283981', 17849),
	(4, 'Филевская линия', 'Filevskaya', '169cd4', 17849),
	(5, 'Кольцевая линия', 'Koltsevaya', '8a3127', 17849),
	(6, 'Калужско-Рижская линия', 'Kaluzhsko-Rizhskaya', 'f78e38', 17849),
	(7, 'Таганско-Краснопресненская линия', 'Tagansko-Krasnopresnenskaya', 'a35d94', 17849),
	(8, 'Калининская линия', 'Kalininskaya', 'fde34f', 17849),
	(9, 'Серпуховско-Тимирязевская линия', 'Serpukhovsko-Timiryazevskaya', 'abaeba', 17849),
	(10, 'Люблинско-Дмитровская линия', 'liublinsko-Dmitrovskaya', 'aad16e', 17849),
	(11, 'Каховская линия', 'Kakhovskaya', '1cb2a7', 17849),
	(12, 'Легкое метро: Бутовская линия', 'Butovskaya', 'b8deeb', 17849),
	(13, 'Солнцевская', 'Solntsevskaya', '', 17849);");
	
	mysql_query("CREATE TABLE IF NOT EXISTS `$moduletableprefix-metro-stations` ( 
	`id` int(6) NOT NULL AUTO_INCREMENT,
	`station_name_ru` varchar(255) DEFAULT NULL COMMENT 'Название станции метро (RU)',
	`station_name_en` varchar(255) DEFAULT NULL COMMENT 'Название станции метро (EN)',
	`line_id` int(6) DEFAULT '0' COMMENT 'ID ветки метро',
	`latitude` decimal(8,6) DEFAULT NULL COMMENT 'Широта GPS',
	`longitude` decimal(8,6) DEFAULT NULL COMMENT 'Долгота GPS',
	PRIMARY KEY (`id`),
	UNIQUE KEY `id` (`id`)
	) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=197;");
	
	
	mysql_query("INSERT INTO `$moduletableprefix-metro-stations` (`id`, `station_name_ru`, `station_name_en`, `line_id`, `latitude`, `longitude`) VALUES
		(1, 'Улица Подбельского', 'Ulitca Podbel`skogo', 1, '55.813360', '37.735240'),
		(2, 'Преображенская площадь', 'Preobrazhenskaya ploshad`', 1, '55.796550', '37.715910'),
		(3, 'Красносельская', 'Krasnosel`skaya', 1, '55.780763', '37.666264'),
		(4, 'Красные ворота', 'Krasnie vorota', 1, '55.769580', '37.649900'),
		(5, 'Лубянка', 'Lubyanka', 1, '55.758760', '37.625730'),
		(6, 'Библиотека имени Ленина', 'Biblioteka imeni Lenina', 1, '55.752110', '37.609880'),
		(7, 'Парк культуры', 'Park kul`turi', 1, '55.735120', '37.593280'),
		(8, 'Спортивная', 'Sportivnaya', 1, '55.723970', '37.565470'),
		(9, 'Университет', 'Universitet', 1, '55.691670', '37.534330'),
		(10, 'Юго-Западная', 'Yugo-Zapadnaya', 1, '55.664640', '37.484210'),
		(11, 'Черкизовская', 'Cherkizovskaya', 1, '55.802000', '37.744380'),
		(12, 'Сокольники', 'Sokol`niki', 1, '55.788930', '37.679430'),
		(13, 'Комсомольская', 'Komsomol`skaya', 1, '55.777170', '37.655689'),
		(14, 'Чистые пруды', 'Chistie prudi', 1, '55.764260', '37.638900'),
		(15, 'Охотный ряд', 'Ohotnij ryad', 1, '55.757030', '37.616140'),
		(16, 'Кропоткинская', 'Kropotkinskaya', 1, '55.745250', '37.604630'),
		(17, 'Фрунзенская', 'Frunzenskaya', 1, '55.727180', '37.580360'),
		(18, 'Воробьёвы горы', 'Vorob`yovi gori', 1, '55.710454', '37.558601'),
		(19, 'Проспект Вернадского', 'Prospekt Vernadskogo', 1, '55.676130', '37.504500'),
		(20, 'Алма-Атинская', 'Alma-Atinskaya', 2, '55.631363', '37.751740'),
		(21, 'Красногвардейская', 'Krasnogvardejskaya', 2, '55.614491', '37.744724'),
		(22, 'Домодедовская', 'Domodedovskaya', 2, '55.610090', '37.716120'),
		(23, 'Орехово', 'Orehovo', 2, '55.612140', '37.695840'),
		(24, 'Царицыно', 'Tcaritcino', 2, '55.620110', '37.669390'),
		(25, 'Кантемировская', 'Kantemirovskaya', 2, '55.634300', '37.656320'),
		(26, 'Каширская', 'Kashirskaya', 2, '55.654120', '37.647380'),
		(27, 'Коломенская', 'Kolomenskaya', 2, '55.677450', '37.662980'),
		(28, 'Автозаводская', 'Avtozavodskaya', 2, '55.708010', '37.658580'),
		(29, 'Павелецкая', 'Paveletckaya', 2, '55.731300', '37.636120'),
		(30, 'Новокузнецкая', 'Novokuznetckaya', 2, '55.742120', '37.629010'),
		(31, 'Театральная', 'Teatral`naya', 2, '55.758570', '37.617700'),
		(32, 'Тверская', 'Tverskaya', 2, '55.765200', '37.603520'),
		(33, 'Маяковская', 'Mayakovskaya', 2, '55.769090', '37.596350'),
		(34, 'Белорусская', 'Belorusskaya', 2, '55.774920', '37.582070'),
		(35, 'Динамо', 'Dinamo', 2, '55.788670', '37.559360'),
		(36, 'Аэропорт', 'Aeroport', 2, '55.799810', '37.534120'),
		(37, 'Сокол', 'Sokol', 2, '55.805180', '37.514950'),
		(38, 'Войковская', 'Vojkovskaya', 2, '55.818110', '37.499050'),
		(39, 'Водный стадион', 'Vodnij stadion', 2, '55.838600', '37.487490'),
		(40, 'Речной вокзал', 'Rechnoj vokzal', 2, '55.853780', '37.476790'),
		(41, 'Щёлковская', 'Shyolkovskaya', 3, '55.809550', '37.798840'),
		(42, 'Первомайская', 'Pervomajskaya', 3, '55.793420', '37.799790'),
		(43, 'Измайловская', 'Izmajlovskaya', 3, '55.787680', '37.783290'),
		(44, 'Партизанская', 'Partizanskaya', 3, '55.789620', '37.747900'),
		(45, 'Семёновская', 'Semyonovskaya', 3, '55.782790', '37.718440'),
		(46, 'Электрозаводская', 'Elektrozavodskaya', 3, '55.781770', '37.704710'),
		(47, 'Бауманская', 'Baumanskaya', 3, '55.772280', '37.678570'),
		(48, 'Курская', 'Kurskaya', 3, '55.758480', '37.659850'),
		(49, 'Площадь Революции', 'Ploshad` Revolyutcii', 3, '55.756460', '37.623210'),
		(50, 'Арбатская', 'Arbatskaya', 3, '55.752280', '37.603570'),
		(51, 'Смоленская', 'Smolenskaya', 3, '55.748230', '37.583840'),
		(52, 'Киевская', 'Kievskaya', 3, '55.743880', '37.566730'),
		(53, 'Парк Победы', 'Park Pobedi', 3, '55.736559', '37.512591'),
		(54, 'Славянский бульвар', 'Slavyanskiy Bulvar', 3, '55.729508', '37.468829'),
		(55, 'Кунцевская', 'Kuntcevskaya', 3, '55.730450', '37.446460'),
		(56, 'Молодёжная', 'Molodyozhnaya', 3, '55.740010', '37.417240'),
		(57, 'Крылатское', 'Krilatskoe', 3, '55.758790', '37.406330'),
		(58, 'Строгино', 'Strogino', 3, '55.804350', '37.396363'),
		(59, 'Мякинино', 'Myakinino', 3, NULL, NULL),
		(60, 'Волоколамская', 'Volokolamskaya', 3, '55.834590', '37.383670'),
		(61, 'Митино', 'Mitino', 3, '55.845890', '37.359090'),
		(62, 'Пятницкое шоссе', 'Piatnickoye Shosse', 3, NULL, NULL),
		(63, 'Кунцевская', 'Kuntcevskaya', 4, '55.730450', '37.446460'),
		(64, 'Пионерская', 'Pionerskaya', 4, '55.735830', '37.467310'),
		(65, 'Филевский парк', 'Filyovskij park', 4, '55.739530', '37.483660'),
		(66, 'Багратионовская', 'Bagrationovskaya', 4, '55.743260', '37.497530'),
		(67, 'Фили', 'Fili', 4, '55.746730', '37.513840'),
		(68, 'Кутузовская', 'Kutuzovskaya', 4, '55.739470', '37.534330'),
		(69, 'Студенческая', 'Studencheskaya', 4, '55.738730', '37.548250'),
		(70, 'Киевская', 'Kievskaya', 4, '55.743880', '37.566730'),
		(71, 'Смоленская', 'Smolenskaya', 4, '55.748230', '37.583840'),
		(72, 'Арбатская', 'Arbatskaya', 4, '55.752280', '37.603570'),
		(73, 'Александровский сад', 'Aleksandrovskij sad', 4, '55.752190', '37.608360'),
		(74, 'Выставочная', 'Vistavochnaya', 4, NULL, NULL),
		(75, 'Международная', 'Mezhdunarodnaya', 4, NULL, NULL),
		(76, 'Парк культуры', 'Park kul`turi', 5, '55.735120', '37.593280'),
		(77, 'Октябрьская', 'Oktyabr`skaya', 5, '55.729000', '37.611390'),
		(78, 'Добрынинская', 'Dobrininskaya', 5, '55.728860', '37.623560'),
		(79, 'Павелецкая', 'Paveletckaya', 5, '55.731300', '37.636120'),
		(80, 'Таганская', 'Taganskaya', 5, '55.742550', '37.653890'),
		(81, 'Курская', 'Kurskaya', 5, '55.758480', '37.659850'),
		(82, 'Комсомольская', 'Komsomol`skaya', 5, '55.777170', '37.655689'),
		(83, 'Проспект Мира', 'Prospekt Mira', 5, '55.781196', '37.633529'),
		(84, 'Новослободская', 'Novoslobodskaya', 5, '55.779210', '37.600900'),
		(85, 'Белорусская', 'Belorusskaya', 5, '55.774920', '37.582070'),
		(86, 'Краснопресненская', 'Krasnopresnenskaya', 5, '55.760109', '37.577141'),
		(87, 'Киевская', 'Kievskaya', 5, '55.743880', '37.566730'),
		(88, 'Медведково', 'Medvedkovo', 6, '55.885940', '37.661200'),
		(89, 'Бабушкинская', 'Babushkinskaya', 6, '55.868140', '37.662920'),
		(90, 'Свиблово', 'Sviblovo', 6, '55.855430', '37.654190'),
		(91, 'Ботанический сад', 'Botanicheskij sad', 6, '55.846490', '37.639140'),
		(92, 'ВДНХ', 'VDNH', 6, '55.821770', '37.641070'),
		(93, 'Алексеевская', 'Alekseevskaya', 6, '55.807370', '37.638440'),
		(94, 'Рижская', 'Rizhskaya', 6, '55.792220', '37.635570'),
		(95, 'Проспект Мира', 'Prospekt Mira', 6, '55.781196', '37.633529'),
		(96, 'Сухаревская', 'Suharevskaya', 6, '55.772110', '37.632390'),
		(97, 'Тургеневская', 'Turgenevskaya', 6, '55.764600', '37.636230'),
		(98, 'Китай-город', 'Kitaj-gorod', 6, '55.756340', '37.630020'),
		(99, 'Третьяковская', 'Tret`yakovskaya', 6, '55.740610', '37.624920'),
		(100, 'Октябрьская', 'Oktyabr`skaya', 6, '55.729000', '37.611390'),
		(101, 'Шаболовская', 'Shabolovskaya', 6, '55.718860', '37.607970'),
		(102, 'Ленинский проспект', 'Leninskij prospekt', 6, '55.708180', '37.587420'),
		(103, 'Академическая', 'Akademicheskaya', 6, '55.688080', '37.575010'),
		(104, 'Профсоюзная', 'Profsoyuznaya', 6, '55.678220', '37.563810'),
		(105, 'Новые Черёмушки', 'Novie Cheryomushki', 6, '55.668920', '37.554170'),
		(106, 'Калужская', 'Kaluzhskaya', 6, '55.655660', '37.539230'),
		(107, 'Беляево', 'Belyaevo', 6, '55.643710', '37.527620'),
		(108, 'Коньково', 'Kon`kovo', 6, '55.632530', '37.520050'),
		(109, 'Тёплый стан', 'Tyoplij Stan', 6, '55.618140', '37.508140'),
		(110, 'Ясенево', 'Yasenevo', 6, '55.605350', '37.534940'),
		(111, 'Новоясеневская', 'Novoyasenevskaya', 6, NULL, NULL),
		(112, 'Планерная', 'Planernaya', 7, '55.859310', '37.436870'),
		(113, 'Сходненская', 'Shodnenskaya', 7, '55.849370', '37.439510'),
		(114, 'Тушинская', 'Tushinskaya', 7, '55.825800', '37.436210'),
		(115, 'Щукинская', 'Shukinskaya', 7, '55.807960', '37.466290'),
		(116, 'Октябрьское поле', 'Oktyabr`skoe pole', 7, '55.793615', '37.493496'),
		(117, 'Полежаевская', 'Polezhaevskaya', 7, '55.776910', '37.516920'),
		(118, 'Беговая', 'Begovaya', 7, '55.773780', '37.544120'),
		(119, 'Улица 1905 года', 'Ulitca 1905 goda', 7, '55.763550', '37.563750'),
		(120, 'Баррикадная', 'Barrikadnaya', 7, '55.760270', '37.581110'),
		(121, 'Пушкинская', 'Pushkinskaya', 7, '55.765650', '37.604170'),
		(122, 'Кузнецкий мост', 'Kuznetckij most', 7, '55.761180', '37.623860'),
		(123, 'Китай-город', 'Kitaj-gorod', 7, '55.753903', '37.635405'),
		(124, 'Таганская', 'Taganskaya', 7, '55.742550', '37.653890'),
		(125, 'Пролетарская', 'Proletarskaya', 7, '55.731710', '37.667260'),
		(126, 'Волгоградский проспект', 'Volgogradskij prospekt', 7, '55.724300', '37.687950'),
		(127, 'Текстильщики', 'Tekstil`shiki', 7, '55.709470', '37.732820'),
		(128, 'Кузьминки', 'Kuz`minki', 7, '55.705310', '37.767750'),
		(129, 'Рязанский проспект', 'Ryazanskij prospekt', 7, '55.717530', '37.794250'),
		(130, 'Выхино', 'Vihino', 7, '55.715000', '37.818020'),
		(131, 'Жулебино', 'Ghulebino', 7, '55.698344', '37.850869'),
		(132, 'Новокосино', 'Novokosino', 8, '55.740539', '37.856347'),
		(133, 'Новогиреево', 'Novogireevo', 8, '55.751110', '37.815640'),
		(134, 'Перово', 'Perovo', 8, '55.751090', '37.788540'),
		(135, 'Шоссе Энтузиастов', 'Shosse Entuziastov', 8, '55.758370', '37.751550'),
		(136, 'Авиамоторная', 'Aviamotornaya', 8, '55.752080', '37.716770'),
		(137, 'Площадь Ильича', 'Ploshad` Il`icha', 8, '55.745663', '37.681123'),
		(138, 'Марксистская', 'Marksistskaya', 8, '55.740700', '37.657730'),
		(139, 'Третьяковская', 'Tret`yakovskaya', 8, '55.740610', '37.624920'),
		(140, 'Волхонка', 'Volkhonka', 8, NULL, NULL),
		(141, 'Плющиха', 'Pliushikha', 8, NULL, NULL),
		(142, 'Кутузовский проспект', 'Kutuzovskiy Prospekt', 8, NULL, NULL),
		(143, 'Алтуфьево', 'Altuf`evo', 9, '55.895040', '37.586050'),
		(144, 'Бибирево', 'Bibirevo', 9, '55.882940', '37.605230'),
		(145, 'Отрадное', 'Otradnoe', 9, '55.864170', '37.604880'),
		(146, 'Владыкино', 'Vladikino', 9, '55.846690', '37.592510'),
		(147, 'Петровско-Разумовская', 'Petrovsko-Razumovskaya', 9, '55.837120', '37.573490'),
		(148, 'Тимирязевская', 'Timiryazevskaya', 9, '55.818420', '37.575710'),
		(149, 'Дмитровская', 'Dmitrovskaya', 9, '55.807560', '37.579590'),
		(150, 'Савёловская', 'Savyolovskaya', 9, '55.794210', '37.586660'),
		(151, 'Менделеевская', 'Mendeleevskaya', 9, '55.782510', '37.597920'),
		(152, 'Цветной бульвар', 'Tcvetnoj bul`var', 9, '55.771600', '37.620580'),
		(153, 'Чеховская', 'Chehovskaya', 9, '55.765960', '37.607500'),
		(154, 'Боровицкая', 'Borovitckaya', 9, '55.750340', '37.608570'),
		(155, 'Полянка', 'Polyanka', 9, '55.736540', '37.618560'),
		(156, 'Серпуховская', 'Serpuhovskaya', 9, '55.726580', '37.624620'),
		(157, 'Тульская', 'Tul`skaya', 9, '55.709010', '37.622600'),
		(158, 'Нагатинская', 'Nagatinskaya', 9, '55.683860', '37.622850'),
		(159, 'Нагорная', 'Nagornaya', 9, '55.672830', '37.610190'),
		(160, 'Нахимовский проспект', 'Nahimovskij prospekt', 9, '55.663760', '37.607670'),
		(161, 'Севастопольская', 'Sevastopol`skaya', 9, '55.651210', '37.599390'),
		(162, 'Чертановская', 'Chertanovskaya', 9, '55.639780', '37.608930'),
		(163, 'Южная', 'Yuzhnaya', 9, '55.621220', '37.607520'),
		(164, 'Пражская', 'Prazhskaya', 9, '55.613540', '37.604990'),
		(165, 'Улица академика Янгеля', 'Ulitca Akademika Yangelya', 9, '55.596141', '37.599810'),
		(166, 'Аннино', 'Annino', 9, '55.581818', '37.594978'),
		(167, 'Бульвар Дмитрия Донского', 'Bul`var Dmitriya Donskogo', 9, '55.567759', '37.575724'),
		(168, 'Марьина роща', 'Mar`yina Roscha', 10, '55.793602', '37.615762'),
		(169, 'Достоевская', 'Dostoyevskaya', 10, '55.782438', '37.612747'),
		(170, 'Трубная', 'Trubnaya', 10, '55.767605', '37.622100'),
		(171, 'Сретенский бульвар', 'Sretenskij bul`var', 10, '55.765551', '37.635261'),
		(172, 'Чкаловская', 'Chkalovskaya', 10, '55.756218', '37.659375'),
		(173, 'Римская', 'Rimskaya', 10, '55.746487', '37.682631'),
		(174, 'Крестьянская застава', 'Krest`yanskaya zastava', 10, '55.732877', '37.668998'),
		(175, 'Дубровка', 'Dubrovka', 10, '55.719732', '37.676915'),
		(176, 'Кожуховская', 'Kozhuhovskaya', 10, '55.705330', '37.685080'),
		(177, 'Печатники', 'Pechatniki', 10, '55.692520', '37.729500'),
		(178, 'Волжская', 'Volzhskaya', 10, '55.691010', '37.754980'),
		(179, 'Люблино', 'Lyublino', 10, '55.676940', '37.763160'),
		(180, 'Братиславская', 'Bratislavskaya', 10, '55.661260', '37.750900'),
		(181, 'Марьино', 'Mar`ino', 10, '55.651930', '37.747710'),
		(182, 'Шипиловская', 'Shipilovskaya', 10, NULL, NULL),
		(183, 'Зябликово', 'Ziablikovo', 10, NULL, NULL),
		(184, 'Каширская', 'Kashirskaya', 11, '55.654120', '37.647380'),
		(185, 'Варшавская', 'Varshavskaya', 11, '55.653810', '37.620840'),
		(186, 'Каховская', 'Kahovskaya', 11, '55.653320', '37.597220'),
		(187, 'Битцевский парк', 'Bittcevskij park', 12, '55.600290', '37.557350'),
		(188, 'Лесопарковая', 'Lesoparkovaya', 12, NULL, NULL),
		(189, 'Улица Старокачаловская', 'Ulitca Starokachalovskaya', 12, NULL, NULL),
		(190, 'Улица Скобелевская', 'Ulitca Skobelevskaya', 12, NULL, NULL),
		(191, 'Бульвар адмирала Ушакова', 'Bul`var admirala Ushakova', 12, NULL, NULL),
		(192, 'Улица Горчакова', 'Ulitca Gorchakova', 12, NULL, NULL),
		(193, 'Бунинская Аллея', 'Buninskaya alleya', 12, NULL, NULL),
		(194, 'Борисово', 'Borisovo', 0, '55.631363', '37.751740'),
		(195, 'Минская', 'Minskaya', 13, '55.731548', '37.491016'),
		(196, 'Суворовская', 'Suvorovskaya', NULL, '55.781984', '37.614487');
	");
}
?>